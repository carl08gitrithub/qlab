{% extends "base.html" %}

{% block content %}
<div class="flex justify-center mt-6">
  <div class="w-full max-w-6xl">
    <h2 class="text-2xl font-bold mb-4 text-center">
      Weekly Lab Reservations
    </h2>

    <div class="grid grid-cols-7 gap-4">
      {% for day in week %}
      <div class="card bg-base-100 shadow p-4">
        <div class="font-semibold mb-2 text-center">
          {{ day.date|date:"D, M d" }}
        </div>

        <div class="space-y-2">
          {% for res in day.reservations %}
            <div class="card p-2 rounded border-l-4
              {% if res.status == 'approved' %}border-green-500 bg-green-50
              {% elif res.status == 'queued' %}border-yellow-500 bg-yellow-50
              {% else %}border-gray-300 bg-gray-50{% endif %}
            ">
              <div class="font-medium">{{ res.lab.name }}</div>

              <div class="text-sm text-gray-600">
                {{ res.start_time|time:"g:i A" }} â€“ {{ res.end_time|time:"g:i A" }}
              </div>

              <div class="text-xs mt-1">
                by {{ res.student.username }}
              </div>

              {% if res.queue_position %}
                <div class="text-xs text-gray-500">
                  Queue: {{ res.queue_position }}
                </div>
              {% endif %}
            </div>
          {% empty %}
            <div class="text-sm text-gray-400 text-center">
              No reservations
            </div>
          {% endfor %}
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
